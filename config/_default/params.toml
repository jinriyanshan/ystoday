# 网站图标
favicon = "img/jryslogo.jpg"

[footer]
    customText = "燕山旧时光"

[sidebar]
    emoji = ""
    subtitle = "回望过去，憧憬未来......"
    avatar = "img/cat1.jpg" 

[article]
    readingTime = false
    [article.license]
        enabled = false

[colorScheme]
    toggle = false
    default = "auto"

[widgets]
    homepage = [
        { type = "search" },
        { type = "archives", params = { limit = 5 } }
    ]
    page = [{ type = "toc" }]

[comments]
    enabled  = false
    provider = "giscus"

    [comments.giscus]
        repo = "jinriyanshan/ystoday"
        repoId = "R_kgDORIoO7g"
        category = "General"
        categoryId = "DIC_kwDORIoO7s4C1-Yt"
        mapping = "pathname"
        strict = "0"
        reactionsEnabled = "1"
        emitMetadata = "0"
        inputPosition = "bottom"
        theme = "preferred_color_scheme"
        lang = "zh-CN"

# Artalk 中文评论区（修复版：强制显示在页面底部）
customHead = '''
<!-- 先加载 Artalk 核心文件 -->
<link href="https://cdn.jsdelivr.net/npm/artalk@2/dist/Artalk.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/artalk@2/dist/Artalk.js"></script>

<!-- 强制显示评论区样式，避免被隐藏 -->
<style>
  /* 隐藏 Giscus */
  .giscus, #giscus_thread, iframe[src*="giscus"] { display: none !important; }
  /* 评论区容器强制显示 */
  #artalk-container {
    display: block !important;
    visibility: visible !important;
    margin: 4rem auto 2rem;
    padding: 2rem;
    max-width: 800px;
    width: 90%;
    border-top: 1px solid #eee;
  }
</style>

<!-- 页面加载完成后强制插入评论区 -->
<script>
// 等待页面完全加载
window.onload = function() {
  // 1. 创建评论区容器，插入到 body 最后（确保一定能找到）
  const artalkDiv = document.createElement('div');
  artalkDiv.id = 'artalk-container';
  document.body.appendChild(artalkDiv);

  // 2. 强制初始化 Artalk（忽略任何加载问题）
  setTimeout(() => {
    Artalk.init({
      el: '#artalk-container',
      server: 'https://artalk.artalkjs.org',
      site: '燕山旧时光',
      pageKey: window.location.href,
      pageTitle: document.title,
      // 中文配置
      locale: {
        nick: '昵称',
        email: '邮箱（选填）',
        link: '网址（选填）',
        submit: '提交评论',
        placeholder: '欢迎在燕山旧时光留言～',
        empty: '暂无评论，快来抢沙发～',
        loading: '加载中...'
      },
      // 调试模式：打印日志，方便排查
      debug: true
    });
  }, 500);
};
</script>
'''
